Редакторът трябва да борави с документ, в който се съхранява съдържанието и формата на брайловата публикация.




----------

Съдържание

Съдържанието на брайловата публикация е структурирано по следния начин:


- Брайлов документ (BrailleDocument~, съдържащ томове (Volumes);
- Том (Volume), съдържащ раздели (Sections)]
- ,Раздел (Section), съдържащ параграфи (Paragraphs);
- Параграф, съдържащ елементи със символите от текста. Тези елементи ще ги наричаме ТекстРън (TextRun).
Всички тези структуриращи елементи се съхраняват в списък към елементи от по-горното ниво. Структуриращите елементи от документа консумират винаги целия текст, т.е, не трябва да остава част от текста, която да не е включена в структурата.
Освен чистия текст, в структурата може да участват и шаблони (виж по-долу).



----------

Формат

Текстът може да се форматира на няколко нива от структурата:

- На ниво ТекстРън, т.е.  за всеки символ или последователност от символи, може да се задава формат - болд, италик и др.
- На ниво параграф - ориентация, отстъпи и др.;
- На ниво раздел - шаблони за страница.


----------

Идея за програмиране на формата на документа

Брайловият документ може да се съдържа в XML документ със следната структура:

- XML header;
-  BrailleDocument - коренен елемент, който съдържа:
1. Content  - цялото съдържание на брайловата публикация;
2. Format - зададените готови стилове и шаблони за форматиране.

Съдържанието на публикацията се състои от елементите:
Content.Volumes
Volume 1
Volume2
...
VolumeX

Съдържанието на един том:
Content.Volumes.VolumeX.Sections
Section1
Section2
...
SectionX

Съдържание на един раздел:
Content.Volumes.VolumeX.Sections.SectionX.Paragraphs:
Paragraph1
Paragraph2
...
|ParagraphX

Съдържание на параграф:
Content.Volumes.VolumeX.Sections.SectionX.Paragraphs.ParagraphX.TextRuns:
TextRun1
TextRun2
...
TextRunX

Разделът за Формат на  публикацията се състои от елементите:
Format.ParagraphStyles - съдържащ стилове за параграфи;
Format.PageTemplates - съдържа шаблони за страница
Format.TextTransformationRules.PreTranslationRules - правила за обработване на текста преди транслиране към брайлов код
Format.TextTransformationRules.PostTranslationRules - правила за преобразуване на текста когато е вече в брайлов код

ParagraphStyle съдържа атрибутите:
Name
BasedOn
Alignment
FirstLine
Before, After, left, right
PageBreakAfterLine, PageBreakBeforeLine
...


